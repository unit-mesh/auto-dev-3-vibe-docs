# mpp-ui Compose å‘å¸ƒç³»ç»Ÿæ€»ç»“

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

æˆ‘å·²ç»ä¸ºä½ çš„ mpp-ui æ¨¡å—åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–å‘å¸ƒæµ‹è¯•ç³»ç»Ÿï¼Œæ”¯æŒ Android å’Œ Desktop å¤šå¹³å°æ„å»ºã€‚

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### 1. GitHub Actions å·¥ä½œæµ
- **æ–‡ä»¶**: `.github/workflows/compose-release-test.yml`
- **åŠŸèƒ½**: è‡ªåŠ¨æ„å»º Android APK å’Œ Desktop åŒ…ï¼ˆLinux/Windows/macOSï¼‰
- **è§¦å‘**: æ¨é€ä»¥ `compose-` å¼€å¤´çš„æ ‡ç­¾

### 2. æœ¬åœ°æµ‹è¯•è„šæœ¬
- **æ–‡ä»¶**: `docs/test-scripts/compose-release-test.sh`
- **åŠŸèƒ½**: åœ¨æœ¬åœ°æµ‹è¯•å®Œæ•´çš„æ„å»ºæµç¨‹
- **ç”¨é€”**: åœ¨æ¨é€æ ‡ç­¾å‰éªŒè¯æ„å»ºæ˜¯å¦æ­£å¸¸

### 3. å‘å¸ƒåˆ›å»ºè„šæœ¬
- **æ–‡ä»¶**: `docs/test-scripts/create-compose-release.sh`
- **åŠŸèƒ½**: äº¤äº’å¼åˆ›å»ºå‘å¸ƒæ ‡ç­¾å¹¶æ¨é€
- **ç‰¹æ€§**: ç‰ˆæœ¬éªŒè¯ã€æ„å»ºæµ‹è¯•ã€è‡ªåŠ¨æ¨é€

### 4. å·¥ä½œæµéš”ç¦»æµ‹è¯•
- **æ–‡ä»¶**: `docs/test-scripts/test-workflow-isolation.sh`
- **åŠŸèƒ½**: éªŒè¯ compose å·¥ä½œæµä¸ä¸»è¦ release å·¥ä½œæµçš„éš”ç¦»

### 5. ä½¿ç”¨æ–‡æ¡£
- **æ–‡ä»¶**: `docs/test-scripts/README-compose-release.md`
- **å†…å®¹**: è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œæ•…éšœæ’é™¤æŒ‡å—

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå‘å¸ƒæµç¨‹
```bash
# 1. æœ¬åœ°æµ‹è¯•
./docs/test-scripts/compose-release-test.sh

# 2. åˆ›å»ºå‘å¸ƒ
./docs/test-scripts/create-compose-release.sh 1.0.0-test
```

### æ‰‹åŠ¨å‘å¸ƒæµç¨‹
```bash
# åˆ›å»ºæ ‡ç­¾
git tag compose-v1.0.0-test

# æ¨é€æ ‡ç­¾
git push origin compose-v1.0.0-test
```

## ğŸ“¦ æ„å»ºäº§ç‰©

### Android
- **Debug APK**: `mpp-ui-debug.apk` (~30MB)
- **Release APK**: `mpp-ui-release-unsigned.apk` (~22MB)

### Desktop
- **Linux**: `.deb` åŒ…
- **Windows**: `.msi` å®‰è£…ç¨‹åº
- **macOS**: `.dmg` é•œåƒæ–‡ä»¶ (~150MB)

## âœ… æµ‹è¯•ç»“æœ

æœ¬åœ°æµ‹è¯•å·²é€šè¿‡ï¼ŒæˆåŠŸæ„å»ºäº†ï¼š
- âœ… Android Debug APK (30MB)
- âœ… Android Release APK (22MB)  
- âœ… macOS DMG åŒ… (150MB)

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### å¤šå¹³å°æ”¯æŒ
- **Android**: ä½¿ç”¨ `assembleDebug` å’Œ `assembleRelease`
- **Desktop**: ä½¿ç”¨ `packageDeb`/`packageMsi`/`packageDmg`

### ä¾èµ–å¤„ç†
- è‡ªåŠ¨æ„å»º `mpp-core` ä¾èµ–
- è‡ªåŠ¨ä¿®å¤ yarn lock é—®é¢˜
- æ™ºèƒ½ç¼“å­˜å’Œå¢é‡æ„å»º

### é”™è¯¯å¤„ç†
- æ„å»ºå¤±è´¥æ—¶æä¾›è¯¦ç»†æ—¥å¿—
- è‡ªåŠ¨é‡è¯•æœºåˆ¶
- å‹å¥½çš„é”™è¯¯æç¤º

### å·¥ä½œæµéš”ç¦»
- `compose-*` æ ‡ç­¾åªè§¦å‘ compose å‘å¸ƒå·¥ä½œæµ
- å…¶ä»–æ ‡ç­¾åªè§¦å‘ä¸»è¦çš„ IntelliJ æ’ä»¶å‘å¸ƒå·¥ä½œæµ
- å®Œå…¨é¿å…å·¥ä½œæµå†²çªå’Œæ„å¤–è§¦å‘

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **æµ‹è¯•å‘å¸ƒ**: è¿è¡Œ `./docs/test-scripts/create-compose-release.sh test-1.0.0`
2. **ç›‘æ§æ„å»º**: åœ¨ GitHub Actions é¡µé¢æŸ¥çœ‹æ„å»ºçŠ¶æ€
3. **ä¸‹è½½äº§ç‰©**: ä» Release é¡µé¢ä¸‹è½½æ„å»ºçš„åŒ…
4. **éªŒè¯åŠŸèƒ½**: æµ‹è¯• Android APK å’Œ Desktop åº”ç”¨

## ğŸ“ æ³¨æ„äº‹é¡¹

- æ‰€æœ‰å‘å¸ƒéƒ½ä¼šåˆ›å»ºä¸º**é¢„å‘å¸ƒç‰ˆæœ¬**
- æ ‡ç­¾å¿…é¡»ä»¥ `compose-` å¼€å¤´
- å»ºè®®å…ˆè¿è¡Œæœ¬åœ°æµ‹è¯•å†æ¨é€æ ‡ç­¾
- æ„å»ºéœ€è¦çº¦ 5-10 åˆ†é’Ÿå®Œæˆ

## ğŸ› ï¸ æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
2. è¿è¡Œæœ¬åœ°æµ‹è¯•è„šæœ¬è¯Šæ–­
3. æ£€æŸ¥ `docs/test-scripts/README-compose-release.md` ä¸­çš„æ•…éšœæ’é™¤éƒ¨åˆ†

---

**ç³»ç»Ÿå·²å°±ç»ªï¼** ğŸ‰ ä½ ç°åœ¨å¯ä»¥å¼€å§‹ä½¿ç”¨è¿™ä¸ªè‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿäº†ã€‚
